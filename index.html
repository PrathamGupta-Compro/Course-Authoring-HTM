<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Course Authoring Interface</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        background: #f8f9fa;
        height: 100vh;
        display: flex;
        flex-direction: column;
      }

      .header {
        background: white;
        border-bottom: 1px solid #e5e7eb;
        padding: 12px 24px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 60px;
        z-index: 100;
        position: relative;
      }

      .header-left {
        display: flex;
        align-items: center;
        gap: 16px;
      }

      .back-btn {
        background: none;
        border: none;
        font-size: 18px;
        cursor: pointer;
        padding: 8px;
        border-radius: 4px;
      }

      .back-btn:hover {
        background: #f3f4f6;
      }

      .course-title {
        font-size: 18px;
        font-weight: 600;
        color: #111827;
      }

      .status-badge {
        display: flex;
        align-items: center;
        gap: 8px;
        background: #fef3c7;
        color: #92400e;
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 500;
      }

      .status-dot {
        width: 6px;
        height: 6px;
        background: currentColor;
        border-radius: 50%;
      }

      .version-dropdown {
        position: relative;
        display: inline-block;
      }

      .version-trigger {
        background: #f9fafb;
        border: 1px solid #e5e7eb;
        padding: 6px 12px;
        border-radius: 6px;
        font-size: 12px;
        color: #374151;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .version-trigger:hover {
        background: #f3f4f6;
      }

      .version-dropdown-content {
        position: absolute;
        top: 100%;
        left: 0;
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 6px;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        min-width: 250px;
        z-index: 1000;
        display: none;
      }

      .version-dropdown-content.active {
        display: block;
      }

      .version-item {
        padding: 12px 16px;
        border-bottom: 1px solid #f3f4f6;
        cursor: pointer;
      }

      .version-item:hover {
        background: #f9fafb;
      }

      .version-item:last-child {
        border-bottom: none;
      }

      .version-item.current {
        background: #dbeafe;
        border-left: 3px solid #3b82f6;
      }

      .version-name {
        font-size: 13px;
        font-weight: 500;
        color: #111827;
        margin-bottom: 2px;
      }

      .version-details {
        font-size: 11px;
        color: #6b7280;
      }

      .header-actions {
        display: flex;
        gap: 12px;
        align-items: center;
      }

      .panel-controls {
        display: flex;
        gap: 8px;
        margin-right: 16px;
        padding-right: 16px;
        border-right: 1px solid #e5e7eb;
      }

      .panel-control-btn {
        padding: 6px 10px;
        border: 1px solid #d1d5db;
        background: white;
        border-radius: 4px;
        cursor: pointer;
        font-size: 11px;
        color: #6b7280;
        transition: all 0.2s;
        font-weight: 500;
      }

      .panel-control-btn:hover {
        background: #f9fafb;
        color: #374151;
      }

      .panel-control-btn.active {
        background: #3b82f6;
        color: white;
        border-color: #3b82f6;
      }

      .btn {
        padding: 8px 16px;
        border-radius: 6px;
        border: none;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s;
      }

      .btn-secondary {
        background: #3b82f6;
        color: #fff;
        border: none;
        transition: background 0.2s;
      }

      .btn-secondary:hover {
        background: #2563eb;
      }
      .accordion-content {
        max-height: 1000px;
        overflow: hidden;
        transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s;
        opacity: 1;
        display: block;
      }
      .accordion-content.collapsed {
        max-height: 0;
        opacity: 0;
        display: block;
        pointer-events: none;
      }

      .btn-primary {
        background: #3b82f6;
        color: white;
      }

      .btn-primary:hover {
        background: #2563eb;
      }

      .main-container {
        display: flex;
        flex: 1;
      }

      .panel {
        background: white;
        display: flex;
        flex-direction: column;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        min-height: 100%;
      }

      .panel.collapsed {
        width: 48px !important;
        min-width: 48px !important;
      }

      .left-panel {
        width: 320px;
        min-width: 320px;
        border-right: 1px solid #e5e7eb;
        height: 100vh;
        overflow: hidden;
        display: flex;
        flex-direction: column;
      }

      .right-panel {
        width: 360px;
        min-width: 360px;
        border-left: 1px solid #e5e7eb;
      }

      .panel-header {
        padding: 12px 16px;
        border-bottom: 1px solid #e5e7eb;
        background: #f9fafb;
        display: flex;
        align-items: center;
        justify-content: space-between;
        min-height: 48px;
      }

      .panel.collapsed .panel-header {
        padding: 12px 8px;
        justify-content: center;
      }

      .panel-title {
        font-size: 13px;
        font-weight: 600;
        color: #374151;
        white-space: nowrap;
        opacity: 1;
        transition: opacity 0.2s;
      }

      .panel.collapsed .panel-title {
        opacity: 0;
        pointer-events: none;
      }

      .collapse-btn {
        background: none;
        border: none;
        font-size: 12px;
        cursor: pointer;
        padding: 4px;
        border-radius: 3px;
        color: #6b7280;
        transition: all 0.2s;
      }

      .collapse-btn:hover {
        background: #e5e7eb;
        color: #374151;
      }

      .panel.collapsed .collapse-btn {
        transform: rotate(180deg);
      }

      .panel-content {
        flex: 1;
        overflow-y: auto;
        height: 100%;
        transition: opacity 0.2s;
      }

      .panel.collapsed .panel-content {
        opacity: 0;
        pointer-events: none;
      }

      .collapsed-icon {
        font-size: 16px;
        color: #6b7280;
        writing-mode: vertical-rl;
        text-orientation: mixed;
        padding: 16px 0;
        text-align: center;
        cursor: pointer;
        transition: color 0.2s;
        display: none;
      }

      .panel.collapsed .collapsed-icon {
        display: block;
      }

      .collapsed-icon:hover {
        color: #374151;
      }

      .left-panel-content {
        flex: 1;
        overflow-y: auto;
        height: 100%;
      }

      .nav-section {
      }

      .nav-section-header {
        padding: 16px 20px 12px 20px;
        font-size: 14px;
        font-weight: 600;
        color: #374151;
      }

      .nav-item {
        padding: 8px 20px;
        cursor: pointer;
        font-size: 13px;
        color: #374151;
        border-left: 3px solid transparent;
        transition: all 0.2s;
      }

      .nav-item:hover {
        background: #f9fafb;
        color: #111827;
      }

      .nav-item.active {
        background: #dbeafe;
        color: #1d4ed8;
        border-left-color: #3b82f6;
        font-weight: 500;
      }

      .structure-item {
        padding: 6px 20px;
        cursor: pointer;
        font-size: 13px;
        color: #374151;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.2s;
      }

      .structure-item:hover {
        background: #f9fafb;
      }

      .structure-item.active {
        background: #dbeafe;
        color: #1d4ed8;
        font-weight: 500;
      }

      .expand-icon {
        font-size: 10px;
        color: #9ca3af;
        transition: transform 0.2s;
      }

      .structure-item.expanded .expand-icon {
        transform: rotate(90deg);
      }

      .structure-children {
        margin-left: 32px;
      }

      .structure-child {
        padding: 4px 20px;
        font-size: 12px;
        color: #6b7280;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.2s;
      }

      .structure-child:hover {
        background: #f9fafb;
        color: #374151;
      }

      .structure-child.active {
        background: #dbeafe;
        color: #1d4ed8;
        font-weight: 500;
      }

      .child-bullet {
        width: 4px;
        height: 4px;
        background: #d1d5db;
        border-radius: 50%;
      }

      .center-content {
        flex: 1;
        background: white;
        overflow-y: auto;
        padding: 32px;
      }

      .content-header {
        margin-bottom: 32px;
      }

      .content-title {
        font-size: 24px;
        font-weight: 600;
        color: #111827;
        margin-bottom: 8px;
      }

      .content-subtitle {
        color: #6b7280;
        font-size: 16px;
      }

      .task-header {
        margin-bottom: 24px;
      }

      .task-title {
        font-size: 28px;
        font-weight: 600;
        color: #111827;
        margin-bottom: 12px;
      }

      .task-tabs {
        display: flex;
        border-bottom: 1px solid #e5e7eb;
        margin-bottom: 24px;
      }

      .task-tab {
        padding: 12px 20px;
        font-size: 14px;
        font-weight: 500;
        color: #6b7280;
        cursor: pointer;
        border-bottom: 2px solid transparent;
        transition: all 0.2s;
      }

      .task-tab.active {
        color: #3b82f6;
        border-bottom-color: #3b82f6;
      }

      .task-tab:hover:not(.active) {
        color: #374151;
      }

      .task-content {
        line-height: 1.6;
      }

      .segment {
        background: #f9fafb;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 20px;
        border-left: 4px solid #3b82f6;
      }

      .segment-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
      }

      .segment-title {
        font-size: 16px;
        font-weight: 600;
        color: #111827;
      }

      .segment-tags {
        display: flex;
        gap: 8px;
        margin-bottom: 12px;
      }

      .tag {
        padding: 4px 8px;
        background: #dbeafe;
        color: #1e40af;
        border-radius: 12px;
        font-size: 11px;
        font-weight: 500;
      }

      .essential-question {
        background: #fef3c7;
        border-radius: 6px;
        padding: 16px;
        margin: 16px 0;
      }

      .essential-question-label {
        font-size: 12px;
        font-weight: 600;
        color: #92400e;
        margin-bottom: 4px;
      }

      .essential-question-text {
        font-size: 14px;
        color: #111827;
        font-style: italic;
      }

      .quote {
        background: #f0f9ff;
        border-left: 4px solid #0ea5e9;
        padding: 12px 16px;
        margin: 16px 0;
        font-style: italic;
        color: #0f172a;
      }

      .activity-block {
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 6px;
        padding: 16px;
        margin: 16px 0;
      }

      .activity-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 8px;
      }

      .activity-title {
        font-size: 14px;
        font-weight: 500;
        color: #111827;
      }

      .activity-type {
        font-size: 11px;
        color: #6b7280;
        background: #f3f4f6;
        padding: 2px 6px;
        border-radius: 4px;
      }

      .activity-description {
        font-size: 13px;
        color: #6b7280;
        font-style: italic;
      }

      .form-section {
        margin-bottom: 32px;
      }

      .form-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 24px;
      }

      .form-field {
        margin-bottom: 20px;
      }

      .form-field.full-width {
        grid-column: 1 / -1;
      }

      .form-label {
        display: block;
        font-size: 14px;
        font-weight: 500;
        color: #374151;
        margin-bottom: 6px;
      }

      .form-input,
      .form-select,
      .form-textarea {
        width: 100%;
        padding: 12px;
        border: 1px solid #d1d5db;
        border-radius: 6px;
        font-size: 14px;
        transition: border-color 0.2s;
      }

      .form-input:focus,
      .form-select:focus,
      .form-textarea:focus {
        outline: none;
        border-color: #3b82f6;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
      }

      .form-textarea {
        min-height: 100px;
        resize: vertical;
      }

      .right-panel-header {
        padding: 12px 16px;
        border-bottom: 1px solid #e5e7eb;
        background: #f9fafb;
      }

      .tool-selector {
        width: 100%;
        padding: 8px 12px;
        border: 1px solid #d1d5db;
        border-radius: 6px;
        font-size: 12px;
        background: white;
        color: #374151;
      }

      .tool-selector:focus {
        outline: none;
        border-color: #3b82f6;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
      }

      .right-panel-content {
        flex: 1;
        overflow-y: auto;
        padding: 16px;
      }

      .audit-item {
        display: flex;
        gap: 12px;
        padding: 12px 0;
        border-bottom: 1px solid #f3f4f6;
      }

      .audit-icon {
        width: 24px;
        height: 24px;
        background: #dbeafe;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 10px;
        color: #3b82f6;
        flex-shrink: 0;
      }

      .audit-content {
        flex: 1;
      }

      .audit-action {
        font-size: 13px;
        color: #374151;
        margin-bottom: 2px;
      }

      .audit-time {
        font-size: 11px;
        color: #6b7280;
      }

      .workflow-progress {
        margin-bottom: 24px;
      }

      .progress-steps {
        display: flex;
        flex-direction: column;
        gap: 16px;
      }

      .progress-step {
        display: flex;
        align-items: flex-start;
        gap: 12px;
      }

      .step-circle {
        width: 24px;
        height: 24px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 11px;
        font-weight: 600;
        border: 2px solid #e5e7eb;
        background: white;
        flex-shrink: 0;
      }

      .step-circle.completed {
        background: #10b981;
        border-color: #10b981;
        color: white;
      }

      .step-circle.current {
        background: #3b82f6;
        border-color: #3b82f6;
        color: white;
        animation: pulse 2s infinite;
      }

      .step-circle.pending {
        background: #f3f4f6;
        border-color: #d1d5db;
        color: #9ca3af;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
      }

      .step-details {
        flex: 1;
      }

      .step-label {
        font-size: 13px;
        color: #374151;
        font-weight: 500;
        margin-bottom: 2px;
      }

      .step-label.current {
        color: #3b82f6;
        font-weight: 600;
      }

      .step-status {
        font-size: 11px;
        color: #6b7280;
      }

      .step-status.current {
        color: #3b82f6;
      }

      .step-connector {
        width: 2px;
        height: 16px;
        background: #e5e7eb;
        margin-left: 11px;
        margin-top: -8px;
        margin-bottom: -8px;
      }

      .step-connector.completed {
        background: #10b981;
      }

      .comment-item {
        background: #f9fafb;
        border-radius: 6px;
        padding: 12px;
        margin-bottom: 12px;
      }

      .comment-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 6px;
      }

      .comment-author {
        font-size: 11px;
        font-weight: 600;
        color: #374151;
      }

      .comment-time {
        font-size: 10px;
        color: #6b7280;
      }

      .comment-text {
        font-size: 12px;
        color: #374151;
        line-height: 1.4;
      }

      .ai-placeholder {
        text-align: center;
        padding: 40px 20px;
        color: #6b7280;
        background: linear-gradient(135deg, #fefbf3 0%, #f0f9ff 100%);
        border-radius: 8px;
      }

      .ai-placeholder-icon {
        font-size: 48px;
        margin-bottom: 16px;
        background: linear-gradient(135deg, #f59e0b 0%, #3b82f6 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .ai-placeholder-title {
        font-size: 16px;
        font-weight: 600;
        color: #374151;
        margin-bottom: 4px;
      }

      .ai-placeholder-subtitle {
        font-size: 11px;
        color: #9ca3af;
        margin-bottom: 16px;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        font-weight: 600;
      }

      .ai-feature-list {
        list-style: none;
        padding: 0;
        margin: 16px 0;
      }

      .ai-feature-list li {
        padding: 4px 0;
        font-size: 12px;
        color: #6b7280;
      }

      .ai-feature-list li:before {
        content: "✨ ";
        margin-right: 6px;
      }

      .task-btn {
        padding: 8px 16px;
        border-radius: 6px;
        border: 1px solid #d1d5db;
        background: white;
        font-size: 13px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s;
      }

      .task-btn:hover {
        background: #f9fafb;
      }

      .task-btn.primary {
        background: #3b82f6;
        color: white;
        border-color: #3b82f6;
      }

      .task-btn.primary:hover {
        background: #2563eb;
      }
    </style>
  </head>
  <body>
    <div class="header">
      <div class="header-left">
        <button class="back-btn">←</button>
        <h1 class="course-title">US History 2</h1>
        <div class="version-dropdown">
          <div class="version-trigger" id="versionTrigger">
            Version 1.2 (Current) ▼
          </div>
          <div id="versionDropdown" class="version-dropdown-content">
            <div class="version-item current">
              <div class="version-name">Version 1.2 - Current</div>
              <div class="version-details">
                Maria Garcia • 2 hours ago • Variation A
              </div>
            </div>
            <div class="version-item">
              <div class="version-name">Version 1.1</div>
              <div class="version-details">
                Maria Garcia • 1 day ago • Added Unit 2 content
              </div>
            </div>
            <div class="version-item">
              <div class="version-name">Version 1.0</div>
              <div class="version-details">
                Maria Garcia • 3 days ago • Initial course creation
              </div>
            </div>
            <div class="version-item">
              <div class="version-name">Variation B - Version 2.1</div>
              <div class="version-details">
                Dr. Wilson • 1 week ago • Alternative structure
              </div>
            </div>
          </div>
        </div>
        <div class="status-badge">
          <div class="status-dot"></div>
          Draft - Spine/Setup
        </div>
      </div>
      <div class="header-actions">
        <div class="panel-controls">
          <button
            class="panel-control-btn"
            id="structureBtn"
            title="Toggle Structure Panel">
            📚
          </button>
          <button
            class="panel-control-btn active"
            id="auditBtn"
            title="Audit Logs">
            📋
          </button>
          <button class="panel-control-btn" id="workflowBtn" title="Workflow">
            ⚡
          </button>
          <button class="panel-control-btn" id="commentsBtn" title="Comments">
            💬
          </button>
          <button class="panel-control-btn" id="aiBtn" title="AI Agent">
            🤖
          </button>
        </div>
        <button class="btn btn-secondary">Preview</button>
        <button class="btn btn-primary">Submit for Review</button>
      </div>
    </div>

    <div class="main-container">
      <div id="leftPanel" class="panel left-panel">
        <div class="panel-content">
          <div class="left-panel-content">
            <div class="nav-section">
              <div class="accordion-section" id="courseInfoAccordion">
                <div
                  class="nav-section-header accordion-header"
                  style="
                    display: flex;
                    align-items: center;
                    justify-content: flex-start;
                    background: #f9fafb;
                    border-bottom: 1px solid #e5e7eb;
                    padding: 12px 16px;
                    font-size: 13px;
                    font-weight: 600;
                    color: #374151;
                    cursor: pointer;
                  ">
                  <span>Course Information</span>
                  <span style="flex: 1"></span>
                  <span class="accordion-toggle" id="courseInfoToggle">▼</span>
                </div>
                <div class="accordion-content" id="courseInfoContent">
                  <div class="nav-item" data-section="basic">
                    Basic Information
                  </div>
                  <div class="nav-item" data-section="academic">
                    Academic Framework
                  </div>
                  <div class="nav-item" data-section="resources">Resources</div>
                  <div class="nav-item" data-section="deliverables">
                    Student Deliverables
                  </div>
                </div>
              </div>
            </div>
            <div class="nav-section">
              <div class="accordion-section" id="courseStructureAccordion">
                <div
                  class="nav-section-header accordion-header"
                  style="
                    display: flex;
                    align-items: center;
                    justify-content: flex-start;
                    background: #f9fafb;
                    border-bottom: 1px solid #e5e7eb;
                    padding: 12px 16px;
                    font-size: 13px;
                    font-weight: 600;
                    color: #374151;
                    cursor: pointer;
                  ">
                  <span>Course Structure</span>
                  <span style="flex: 1"></span>
                  <span class="accordion-toggle" id="courseStructureToggle"
                    >▼</span
                  >
                </div>
                <div class="accordion-content" id="courseStructureContent">
                  <div>
                    <div class="structure-item expanded" id="unit1">
                      <span class="expand-icon">▶</span>
                      <span>Challenge Unit 1: Great Depression & WWII</span>
                    </div>
                    <div class="structure-children">
                      <div class="structure-child" data-task="turn-20th">
                        <div class="child-bullet"></div>
                        <span>Turn of the 20th Century</span>
                      </div>
                      <div
                        class="structure-child active"
                        data-task="wwii-theaters">
                        <div class="child-bullet"></div>
                        <span>WWII: Pacific and European Theaters</span>
                      </div>
                      <div class="structure-child" data-task="great-depression">
                        <div class="child-bullet"></div>
                        <span>Great Depression</span>
                      </div>
                      <div class="structure-child" data-task="new-deal">
                        <div class="child-bullet"></div>
                        <span>New Deal</span>
                      </div>
                    </div>
                    <div class="structure-item" id="unit2">
                      <span class="expand-icon">▶</span>
                      <span>Challenge Unit 2: Cold War & Civil Rights</span>
                    </div>
                    <div class="structure-item" id="unit3">
                      <span class="expand-icon">▶</span>
                      <span>Challenge Unit 3: Modern Era (1980-2008)</span>
                    </div>
                    <div class="structure-item" id="capstone">
                      <span class="expand-icon">▶</span>
                      <span>Capstone: Policy Analysis</span>
                    </div>
                  </div>
                  <div style="padding: 16px 20px 0 20px">
                    <button
                      id="addFolderBtn"
                      class="btn btn-secondary"
                      style="width: 100%; margin-bottom: 24px;">
                      + Add Folder
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="nav-section">
              <div class="accordion-section" id="somethingElseAccordion">
                <div
                  class="nav-section-header accordion-header"
                  style="
                    display: flex;
                    align-items: center;
                    justify-content: flex-start;
                    background: #f9fafb;
                    border-bottom: 1px solid #e5e7eb;
                    padding: 12px 16px;
                    font-size: 13px;
                    font-weight: 600;
                    color: #374151;
                    cursor: pointer;
                  ">
                  <span>Something Else</span>
                  <span style="flex: 1"></span>
                  <span class="accordion-toggle" id="somethingElseToggle"
                    >▼</span
                  >
                </div>
                <div class="accordion-content" id="somethingElseContent">
                  <div style="padding: 0 20px 16px 20px">
                    <p
                      style="
                        color: #374151;
                        font-size: 14px;
                        margin-top: 16px;
                        padding: 12px 16px;
                        font-weight: 500;
                      ">
                      You can add a new section here to include more content or
                      features as needed.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="collapsed-icon" id="leftCollapsedIcon">📚</div>
      </div>

      <div class="center-content">
        <div id="basic-content" style="display: none">
          <div class="content-header">
            <h2 class="content-title">Basic Information</h2>
            <p class="content-subtitle">
              Configure the fundamental course details and metadata
            </p>
          </div>

          <div class="form-section">
            <div class="form-grid">
              <div class="form-field">
                <label class="form-label">Title</label>
                <input type="text" class="form-input" value="US History 2" />
              </div>
              <div class="form-field">
                <label class="form-label">Subject</label>
                <select class="form-select">
                  <option selected>History Core</option>
                  <option>History Elective</option>
                  <option>Social Studies</option>
                </select>
              </div>
              <div class="form-field">
                <label class="form-label">Type</label>
                <select class="form-select">
                  <option selected>Asynchronous</option>
                  <option>Synchronous</option>
                  <option>Blended</option>
                </select>
              </div>
              <div class="form-field">
                <label class="form-label">Category</label>
                <select class="form-select">
                  <option selected>Core Academic</option>
                  <option>Elective</option>
                  <option>Advanced Placement</option>
                </select>
              </div>
              <div class="form-field">
                <label class="form-label">Credits</label>
                <input
                  type="number"
                  class="form-input"
                  value="1.0"
                  step="0.5" />
              </div>
              <div class="form-field">
                <label class="form-label">NCES Code</label>
                <input
                  type="text"
                  class="form-input"
                  placeholder="Enter NCES code" />
              </div>
              <div class="form-field full-width">
                <label class="form-label">Description</label>
                <textarea
                  class="form-textarea"
                  placeholder="Enter course description...">
This course covers U.S. History from the Great Depression through the early 21st century, focusing on major political, social, and economic developments that shaped modern America.</textarea
                >
              </div>
            </div>
          </div>
        </div>

        <div id="task-content">
          <div class="task-header">
            <h1 class="task-title">WWII: Pacific and European Theaters</h1>
          </div>

          <div class="task-tabs">
            <div class="task-tab active" id="metadataTab">Metadata</div>
            <div class="task-tab" id="contentTab">Content Segments</div>
            <div class="task-tab" id="previewTab">Preview</div>
          </div>

          <div class="task-content">
            <div id="metadata-content">
              <div class="form-section">
                <div class="form-grid">
                  <div class="form-field">
                    <label class="form-label">Task Title</label>
                    <input
                      type="text"
                      class="form-input"
                      value="WWII: Pacific and European Theaters" />
                  </div>
                  <div class="form-field">
                    <label class="form-label">Duration</label>
                    <select class="form-select">
                      <option selected>2 weeks</option>
                      <option>1 week</option>
                      <option>3 weeks</option>
                    </select>
                  </div>
                  <div class="form-field full-width">
                    <label class="form-label">Learning Objectives</label>
                    <textarea
                      class="form-textarea"
                      placeholder="Define learning objectives...">
Students will analyze the major theaters of WWII and evaluate their impact on global politics.</textarea
                    >
                  </div>
                </div>
              </div>
            </div>

            <div id="content-segments" style="display: none">
              <div class="segment">
                <div class="segment-header">
                  <h3 class="segment-title">Segment 1: Context & Overview</h3>
                  <button
                    class="task-btn"
                    style="font-size: 11px; padding: 4px 8px">
                    Edit
                  </button>
                </div>
                <div class="segment-tags">
                  <div class="tag">Sub-skill: Historical Context</div>
                  <div class="tag">Assessment: Completion</div>
                  <div class="tag">Feedback: Enabled</div>
                </div>

                <div class="essential-question">
                  <div class="essential-question-label">
                    Essential Question:
                  </div>
                  <div class="essential-question-text">
                    How did WWII reshape global politics and society?
                  </div>
                </div>

                <div class="quote">
                  "We shall fight on the beaches, we shall fight on the landing
                  grounds..." - Churchill
                </div>

                <div class="activity-block">
                  <div class="activity-header">
                    <div class="activity-title">WWII Timeline Activity</div>
                    <div class="activity-type">Third-Party: Google Doc</div>
                  </div>
                  <div class="activity-description">
                    Interactive timeline creation using Google Docs
                    collaboration
                  </div>
                </div>

                <div
                  style="
                    text-align: center;
                    padding: 20px;
                    border: 2px dashed #d1d5db;
                    border-radius: 6px;
                    margin: 16px 0;
                    color: #6b7280;
                  ">
                  + Add Content Block
                </div>
              </div>
            </div>

            <div id="preview-content" style="display: none">
              <p>Task preview content would go here...</p>
            </div>
          </div>
        </div>

        <div id="academic-content" style="display: none">
          <div class="content-header">
            <h2 class="content-title">Academic Framework</h2>
            <p class="content-subtitle">
              Define learning objectives and academic standards
            </p>
          </div>

          <div class="form-section">
            <div class="form-grid">
              <div class="form-field">
                <label class="form-label">Sequence</label>
                <input
                  type="text"
                  class="form-input"
                  placeholder="Course sequence" />
              </div>
              <div class="form-field">
                <label class="form-label">Prerequisites</label>
                <input
                  type="text"
                  class="form-input"
                  placeholder="Required prerequisites" />
              </div>
              <div class="form-field full-width">
                <label class="form-label">Core Competencies</label>
                <textarea
                  class="form-textarea"
                  placeholder="List core competencies...">
Analyze historical sources and evidence
Evaluate cause and effect relationships in historical events
Understand historical context and change over time
Communicate historical arguments effectively</textarea
                >
              </div>
            </div>
          </div>
        </div>

        <div id="resources-content" style="display: none">
          <div class="content-header">
            <h2 class="content-title">Resources</h2>
            <p class="content-subtitle">
              Manage teaching staff and course materials
            </p>
          </div>

          <div class="form-section">
            <div class="form-grid">
              <div class="form-field">
                <label class="form-label">Lead Teacher</label>
                <select class="form-select">
                  <option selected>Professor Maria Garcia</option>
                  <option>Dr. James Wilson</option>
                  <option>Ms. Sarah Johnson</option>
                </select>
              </div>
              <div class="form-field">
                <label class="form-label">Co-Teachers</label>
                <input
                  type="text"
                  class="form-input"
                  placeholder="Add co-teachers" />
              </div>
            </div>
          </div>
        </div>

        <div id="deliverables-content" style="display: none">
          <div class="content-header">
            <h2 class="content-title">Student Deliverables</h2>
            <p class="content-subtitle">
              Configure assessments and grading policies
            </p>
          </div>

          <div class="form-section">
            <div class="form-grid">
              <div class="form-field">
                <label class="form-label">Grading Scale</label>
                <select class="form-select">
                  <option selected>Standard A-F Scale</option>
                  <option>Pass/Fail</option>
                  <option>Competency-Based</option>
                </select>
              </div>
              <div class="form-field">
                <label class="form-label">Late Policy</label>
                <select class="form-select">
                  <option selected>10% per day deduction</option>
                  <option>No late work accepted</option>
                  <option>Case by case basis</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="rightPanel" class="panel right-panel">
        <div class="panel-header">
          <div class="panel-title">Audit Trail</div>
          <button
            class="collapse-btn"
            id="rightCollapseBtn"
            title="Collapse panel">
            ▶
          </button>
        </div>
        <div class="panel-content">
          <div class="right-panel-header">
            <select class="tool-selector" id="toolSelector">
              <option value="audit">Audit Log</option>
              <option value="workflow">Workflow & Approval</option>
              <option value="comments">Comments</option>
              <option value="ai">AI Agent</option>
            </select>
          </div>
          <div class="right-panel-content">
            <div id="audit-tool">
              <div class="audit-item">
                <div class="audit-icon">📝</div>
                <div class="audit-content">
                  <div
                    style="
                      display: flex;
                      align-items: center;
                      justify-content: flex-start;
                    ">
                    <div>
                      <div class="audit-action">
                        S. Miller modified Segment 2
                      </div>
                      <div
                        class="audit-time"
                        style="display: inline-block; margin-right: 12px">
                        3 hours ago
                      </div>
                    </div>
                    <span
                      style="
                        background: #e0f2fe;
                        color: #2563eb;
                        font-size: 12px;
                        font-weight: 600;
                        border-radius: 12px;
                        padding: 4px 12px;
                        margin-left: auto;
                      "
                      >Current Phase</span
                    >
                  </div>
                </div>
              </div>
              <div class="audit-item">
                <div class="audit-icon">➕</div>
                <div class="audit-content">
                  <div class="audit-action">
                    Ms. Johnson added content block
                  </div>
                  <div class="audit-time">Yesterday</div>
                </div>
              </div>
              <div class="audit-item">
                <div class="audit-icon">✅</div>
                <div class="audit-content">
                  <div class="audit-action">Ms. Johnson created task</div>
                  <div class="audit-time">Sept 15, 2025</div>
                </div>
              </div>
            </div>

            <div id="workflow-tool" style="display: none">
              <div class="workflow-progress">
                <div class="progress-steps">
                  <div class="progress-step">
                    <div class="step-circle completed">✓</div>
                    <div class="step-details">
                      <div class="step-label">Blueprint</div>
                      <div class="step-status">Completed</div>
                    </div>
                  </div>
                  <div class="step-connector completed"></div>

                  <div class="progress-step">
                    <div class="step-circle current">2</div>
                    <div class="step-details">
                      <div class="step-label current">Spine/Setup</div>
                      <div class="step-status current">In Progress</div>
                    </div>
                  </div>
                  <div class="step-connector"></div>

                  <div class="progress-step">
                    <div class="step-circle pending">3</div>
                    <div class="step-details">
                      <div class="step-label">Construction</div>
                      <div class="step-status">Pending</div>
                    </div>
                  </div>
                  <div class="step-connector"></div>

                  <div class="progress-step">
                    <div class="step-circle pending">4</div>
                    <div class="step-details">
                      <div class="step-label">Final Review</div>
                      <div class="step-status">Pending</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div id="comments-tool" style="display: none">
              <div class="comment-item">
                <div class="comment-header">
                  <span class="comment-author">Dr. Smith</span>
                  <span class="comment-time">2 hours ago</span>
                </div>
                <div class="comment-text">
                  The learning objectives for Unit 2 need to be more specific.
                  Can we align them better with state standards?
                </div>
              </div>
              <div class="comment-item">
                <div class="comment-header">
                  <span class="comment-author">Maria Garcia</span>
                  <span class="comment-time">1 day ago</span>
                </div>
                <div class="comment-text">
                  Added primary source materials for the Great Depression unit.
                  Ready for review.
                </div>
              </div>
            </div>

            <div id="ai-tool" style="display: none">
              <div class="ai-placeholder">
                <div class="ai-placeholder-icon">🤖</div>
                <div class="ai-placeholder-title">AI Agent</div>
                <div class="ai-placeholder-subtitle">Coming Soon</div>
                <div>Future AI features will help you with:</div>
                <ul class="ai-feature-list">
                  <li>Content suggestions</li>
                  <li>Learning objective alignment</li>
                  <li>Assessment generation</li>
                  <li>Standards compliance check</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="collapsed-icon" id="rightCollapsedIcon">📋</div>
      </div>
    </div>

    <script>
      // State management
      let appState = {
        versionDropdownOpen: false,
        leftPanelCollapsed: false,
        rightPanelCollapsed: false,
        currentTool: "audit",
        currentSection: "task",
        courseInfoOpen: true,
        courseStructureOpen: true,
        somethingElseOpen: true,
      };

      // Initialize when DOM is loaded
      document.addEventListener("DOMContentLoaded", function () {
        initializeInterface();
      });

      function initializeInterface() {
        // Version dropdown
        document
          .getElementById("versionTrigger")
          .addEventListener("click", toggleVersionDropdown);

        // Panel controls
        document
          .getElementById("structureBtn")
          .addEventListener("click", toggleLeftPanel);
        document
          .getElementById("auditBtn")
          .addEventListener("click", () => activateTool("audit"));
        document
          .getElementById("workflowBtn")
          .addEventListener("click", () => activateTool("workflow"));
        document
          .getElementById("commentsBtn")
          .addEventListener("click", () => activateTool("comments"));
        document
          .getElementById("aiBtn")
          .addEventListener("click", () => activateTool("ai"));

        // Panel collapse buttons
        document
          .getElementById("leftCollapseBtn")
          ?.addEventListener("click", toggleLeftPanel);
        document
          .getElementById("rightCollapseBtn")
          ?.addEventListener("click", toggleRightPanel);
        document
          .getElementById("leftCollapsedIcon")
          ?.addEventListener("click", toggleLeftPanel);
        document
          .getElementById("rightCollapsedIcon")
          ?.addEventListener("click", toggleRightPanel);

        // Accordion toggles
        document
          .getElementById("courseInfoToggle")
          .addEventListener("click", toggleCourseInfoAccordion);
        document
          .getElementById("courseStructureToggle")
          .addEventListener("click", toggleCourseStructureAccordion);
        document
          .getElementById("somethingElseToggle")
          .addEventListener("click", toggleSomethingElseAccordion);

        // Navigation items
        document.querySelectorAll(".nav-item").forEach((item) => {
          item.addEventListener("click", () => {
            const section = item.getAttribute("data-section");
            showSection(section);
          });
        });

        // Structure items
        document.querySelectorAll(".structure-item").forEach((item) => {
          item.addEventListener("click", () => toggleStructureItem(item));
        });

        // Task items
        document.querySelectorAll(".structure-child").forEach((item) => {
          item.addEventListener("click", () => {
            const task = item.getAttribute("data-task");
            showTask(task);
          });
        });

        // Task tabs
        document
          .getElementById("metadataTab")
          .addEventListener("click", () => switchTaskTab("metadata"));
        document
          .getElementById("contentTab")
          .addEventListener("click", () => switchTaskTab("content"));
        document
          .getElementById("previewTab")
          .addEventListener("click", () => switchTaskTab("preview"));

        // Tool selector
        document
          .getElementById("toolSelector")
          .addEventListener("change", (e) => {
            switchTool(e.target.value);
          });

        // Close dropdowns when clicking outside
        document.addEventListener("click", (e) => {
          if (!e.target.closest(".version-dropdown")) {
            closeVersionDropdown();
          }
        });

        // Initialize default states
        showTask("wwii-theaters");
        activateTool("audit");
        updateAccordionStates();
      }

      function toggleCourseInfoAccordion() {
        appState.courseInfoOpen = !appState.courseInfoOpen;
        updateAccordionStates();
      }

      function toggleCourseStructureAccordion() {
        appState.courseStructureOpen = !appState.courseStructureOpen;
        updateAccordionStates();
      }

      function updateAccordionStates() {
        // Course Info
        const infoContent = document.getElementById("courseInfoContent");
        const infoToggle = document.getElementById("courseInfoToggle");
        if (appState.courseInfoOpen) {
          infoContent.classList.remove("collapsed");
          infoToggle.textContent = "▲";
        } else {
          infoContent.classList.add("collapsed");
          infoToggle.textContent = "▼";
        }
        // Course Structure
        const structureContent = document.getElementById(
          "courseStructureContent"
        );
        const structureToggle = document.getElementById(
          "courseStructureToggle"
        );
        if (appState.courseStructureOpen) {
          structureContent.classList.remove("collapsed");
          structureToggle.textContent = "▲";
        } else {
          structureContent.classList.add("collapsed");
          structureToggle.textContent = "▼";
        }
        // Something Else
        const somethingElseContent = document.getElementById(
          "somethingElseContent"
        );
        const somethingElseToggle = document.getElementById(
          "somethingElseToggle"
        );
        if (appState.somethingElseOpen) {
          somethingElseContent.classList.remove("collapsed");
          somethingElseToggle.textContent = "▲";
        } else {
          somethingElseContent.classList.add("collapsed");
          somethingElseToggle.textContent = "▼";
        }
      }
      function toggleSomethingElseAccordion() {
        appState.somethingElseOpen = !appState.somethingElseOpen;
        updateAccordionStates();
      }

      function toggleVersionDropdown() {
        const dropdown = document.getElementById("versionDropdown");
        appState.versionDropdownOpen = !appState.versionDropdownOpen;
        dropdown.classList.toggle("active", appState.versionDropdownOpen);
      }

      function closeVersionDropdown() {
        const dropdown = document.getElementById("versionDropdown");
        appState.versionDropdownOpen = false;
        dropdown.classList.remove("active");
      }

      function toggleLeftPanel() {
        const panel = document.getElementById("leftPanel");
        appState.leftPanelCollapsed = !appState.leftPanelCollapsed;
        panel.classList.toggle("collapsed", appState.leftPanelCollapsed);
      }

      function toggleRightPanel() {
        const panel = document.getElementById("rightPanel");
        appState.rightPanelCollapsed = !appState.rightPanelCollapsed;
        panel.classList.toggle("collapsed", appState.rightPanelCollapsed);
      }

      function activateTool(toolName) {
        // Ensure right panel is open
        const panel = document.getElementById("rightPanel");
        appState.rightPanelCollapsed = false;
        panel.classList.remove("collapsed");

        // Update header button states
        document.querySelectorAll(".panel-control-btn").forEach((btn) => {
          btn.classList.remove("active");
        });

        const buttonMap = {
          audit: "auditBtn",
          workflow: "workflowBtn",
          comments: "commentsBtn",
          ai: "aiBtn",
        };

        if (buttonMap[toolName]) {
          document.getElementById(buttonMap[toolName]).classList.add("active");
        }

        // Switch tool
        switchTool(toolName);

        // Update dropdown
        document.getElementById("toolSelector").value = toolName;
      }

      function switchTool(toolName) {
        // Hide all tools
        const tools = ["audit", "workflow", "comments", "ai"];
        tools.forEach((tool) => {
          const element = document.getElementById(tool + "-tool");
          if (element) element.style.display = "none";
        });

        // Show selected tool
        const selectedTool = document.getElementById(toolName + "-tool");
        if (selectedTool) selectedTool.style.display = "block";

        // Update panel title
        const titles = {
          audit: "Audit Trail",
          workflow: "Workflow & Approval",
          comments: "Comments",
          ai: "AI Agent",
        };

        const panelTitle = document.querySelector("#rightPanel .panel-title");
        if (panelTitle) panelTitle.textContent = titles[toolName] || "Tools";

        appState.currentTool = toolName;
      }

      function showSection(sectionName) {
        // Hide all content
        const sections = [
          "basic",
          "academic",
          "resources",
          "deliverables",
          "task",
        ];
        sections.forEach((section) => {
          const element = document.getElementById(section + "-content");
          if (element) element.style.display = "none";
        });

        // Clear all active states
        document
          .querySelectorAll(".nav-item, .structure-child")
          .forEach((item) => {
            item.classList.remove("active");
          });

        // Show selected section
        const targetSection = document.getElementById(sectionName + "-content");
        if (targetSection) targetSection.style.display = "block";

        // Activate nav item
        const navItem = document.querySelector(
          `[data-section="${sectionName}"]`
        );
        if (navItem) navItem.classList.add("active");

        appState.currentSection = sectionName;
      }

      function showTask(taskId) {
        // Hide all content
        const sections = ["basic", "academic", "resources", "deliverables"];
        sections.forEach((section) => {
          const element = document.getElementById(section + "-content");
          if (element) element.style.display = "none";
        });

        // Clear all active states
        document
          .querySelectorAll(".nav-item, .structure-child")
          .forEach((item) => {
            item.classList.remove("active");
          });

        // Show task content
        const taskContent = document.getElementById("task-content");
        if (taskContent) taskContent.style.display = "block";

        // Activate task item
        const taskItem = document.querySelector(`[data-task="${taskId}"]`);
        if (taskItem) taskItem.classList.add("active");

        appState.currentSection = "task";
      }

      function toggleStructureItem(element) {
        element.classList.toggle("expanded");
        const children = element.nextElementSibling;
        if (children && children.classList.contains("structure-children")) {
          if (element.classList.contains("expanded")) {
            children.style.display = "block";
          } else {
            children.style.display = "none";
          }
        }
      }

      function switchTaskTab(tabName) {
        // Hide all task content
        const contents = [
          "metadata-content",
          "content-segments",
          "preview-content",
        ];
        contents.forEach((contentId) => {
          const element = document.getElementById(contentId);
          if (element) element.style.display = "none";
        });

        // Remove active from all tabs
        document.querySelectorAll(".task-tab").forEach((tab) => {
          tab.classList.remove("active");
        });

        // Show selected content
        const targetContent = document.getElementById(
          tabName === "content" ? "content-segments" : tabName + "-content"
        );
        if (targetContent) targetContent.style.display = "block";

        // Activate tab
        const tabMap = {
          metadata: "metadataTab",
          content: "contentTab",
          preview: "previewTab",
        };

        const activeTab = document.getElementById(tabMap[tabName]);
        if (activeTab) activeTab.classList.add("active");
      }
    </script>
  </body>
</html>
